---
import Icon from 'astro-icon';
import DarkModeButton from '@/components/DarkModeButton.vue';
import HeaderLink from '@/components/HeaderLink.astro';
---

<header x-data='{toggleMenu: false}'
        class="sm:items-center dark:text-gray-100 text-black flex flex-grow sm:gap-6 gap-2 items-center justify-end sm:p-4 px-3 fixed right-0 sm:top-0 top-auto bottom-0 sm:bottom-auto sm:bg-transparent sm:dark:bg-transparent bg-gray-100 dark:bg-gray-900 w-full z-50 transition-colors duration-300"
>
    <nav class="hidden sm:flex flex-grow items-center justify-end gap-6" aria-label="desktop">
        <HeaderLink href="#top" name="Home" external="false"/>
        <HeaderLink href="#about_me" name="About" external="false"/>
        <HeaderLink href="#tech_stack" name="Stack" external="false"/>
        <HeaderLink href="#projects" name="Projects" external="false"/>
        <HeaderLink href="#contact" name="Contact" external="false"/>
        <HeaderLink href="https://linkedin.com/in/dani-martinez-fernandez" name="Resume" external="true"/>
    </nav>
    <div x-show="toggleMenu"
         x-transition:enter="transition ease-out duration-100"
         x-transition:enter-start="opacity-0 transform scale-95"
         x-transition:leave="transition ease-in duration-75"
         x-transition:leave-start="opacity-100 transform scale-100"
         x-transition:leave-end="opacity-0 transform scale-95"
         @click="toggleMenu = false"
         class="sm:hidden h-28 w-full bg-gray-100 dark:bg-gray-900 absolute left-0 bottom-11"
    >
        <nav class="h-full grid grid-cols-3 items-center justify-items-center gap-6 px-8 py-4" aria-label="mobile">
            <HeaderLink href="#top" name="Home" external="false"/>
            <HeaderLink href="#about_me" name="About" external="false"/>
            <HeaderLink href="#tech_stack" name="Stack" external="false"/>
            <HeaderLink href="#projects" name="Projects" external="false"/>
            <HeaderLink href="#contact" name="Contact" external="false"/>
            <HeaderLink href="https://linkedin.com/in/dani-martinez-fernandez" name="Resume" external="true"/>
        </nav>
    </div>
    <DarkModeButton client:load/>
    <div @click="toggleMenu = !toggleMenu"
         class="sm:hidden text-gray-900 dark:text-gray-100 hover:text-gray-700 dark:hover:text-gray-100 rounded-lg sm:button-focus p-1.5 cursor-pointer">
        <Icon pack="mdi" name="menu" size="2x"/>
    </div>
</header>